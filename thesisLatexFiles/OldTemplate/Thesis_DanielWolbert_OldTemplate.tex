\documentclass[10pt]{article}

\renewcommand{\baselinestretch}{1.2}
\renewcommand{\v}[1]{\ensuremath{\mathbf{#1}}}
\newcommand{\mc}{\mathcal}


\def\st{{\rm s.t.}}

\usepackage{algorithmic}
\usepackage{algorithm}
\usepackage[usenames,dvipsnames]{color}
\usepackage{fullpage,graphicx,amssymb,amsmath}
\usepackage{enumerate}
\usepackage{subfigure}


\newcommand{\be}{\begin{enumerate}}
\newcommand{\ee}{\end{enumerate}}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{assumption}{Assumption}
\newtheorem{conjecture}{Conjecture}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}
\newtheorem{proposition}{Proposition}
\newcommand{\hs}[1]{\hspace{#1}}
\newcommand{\vs}[1]{\vspace{#1}}
\newcommand{\mnorm}[1]{||{#1}||_{\infty}}
\newcommand{\pf}{\textbf{Proof} \indent}
\newcommand{\qed}{\hfill $\Box$}
\newcommand{\argmin}{\rm argmin}
\newcommand{\proof}{\pf}

\newcommand{\Cvar}{\mathbb{CVAR}} % Conditional value-at-risk
%\newcommand{\Cvar}{\mathbb{CV}@\mathbb{R}} % Conditional value-at-risk
\newcommand{\Var}{\mathbb{VAR}} % Value-at-risk
%\newcommand{\Var}{\mathbb{V}\text{a}\mathbb{R}} % Value-at-risk
%\newcommand{\Var}{\mathbb{V}@\mathbb{R}} % Value-at-risk

\newcommand{\cone}{{\rm cone}} % Cone
\newcommand{\conv}{{\rm conv}} % Convex hull
\newcommand{\clconv}{{\rm clconv}} % Closed convex hull
\newcommand{\Cov}{{\rm Cov}} % Covariance
\newcommand{\E}{\mathbb{E}} % Expectation
\renewcommand{\P}{\mathbb{P}} % Probability
\renewcommand{\Re}{\mathbb{R}} % Real numbers
\renewcommand{\S}{\mathcal{S}} % Set of scenarios
\newcommand{\Z}{\mathbb{Z}} % Integers

\newcommand{\vell}{\boldsymbol{\ell}}
\newcommand{\vxi}{\boldsymbol{\xi}}
\newcommand{\vpi}{\boldsymbol{\pi}}


\begin{document}

%opening
\title{Model fidelity and its impact on power grid resource planning under high renewable penetration}
\author{Daniel Wolbert \\
{\small Industrial and Systems Engineering Department}\\
{\small Lehigh University}\\
{\small Street, Lehigh, PA, zip code}\\
{\small \texttt{daw214@lehigh.edu}} \\
~\\
}

\maketitle

\begin{abstract}
Abstract 
\end{abstract}

\section{Introduction}

By many accounts, renewables resources will likely play a key role in the US electric grid in the coming decades.  Variable renewable resources (e.g., wind and solar) have intermittent output, and thus do not behave like the dispatchable resources used for the vast majority of todayâ€™s electricity generation. The variability of these sources has led to concerns regarding the reliability of an electric grid that derives a large fraction of its energy from these sources as well as the cost of reliably integrating large amounts of variable generation into the electric grid. The electricity grid may incorporate additional technologies that provide one or more of the following attributes: fast ramping capabilities, load shifting, demand response, energy storage, and more.   Which technologies and grid configurations prevail are likely to be impacted by several factors including economics (i.e. the costs and benefits of each technology are weighed relative to the other available options), reliability, local and regional policies and other region-specific resource constraints.

Underpinning many of the economic and reliability studies used to assess various technologies are optimization and simulation models, staples of the ISE community.  These models make numerous approximations when determining optimal economic dispatch and power flow, the consequences of which are not fully understood, especially with substantially more variable renewable resources and different grid configurations.  This thesis investigates and attempts to characterize the subtleties that arise when making certain approximations to model day-ahead and real-time dispatch decisions.


\section{Data}

To evaluate the performance and the results of the models,they where tested in a data set which is exhaustively used to evaluate power planning methods: the Reliability Test System 96 <citar sobre o RTS>. This account for N buses with an original set of B generators.

\subsection{RTS Data}

The RTS Data has N buses with X generators. The table [Table] describes better the data. The RTS system has 73 buses with the total peak load of 8550MW and the original generation capacity of 8777.9 MW. In this data the demand is calculated by the percentage of the peak of each bus, assuming all buses have positive correlation for the peak, i.e. the behavior is stricly the same. The peak is defined by month, year and season. In the next graph we have this example. 

The original RTS 96 does not have maximum and minimum voltage angles for each node. Therefore it was assumed to have the minimum and maximum of 0.6 rads for all the nodes.

\subsection{Wind Data}

The original RTS data does not have any renewable generator. To satisfy the goal of this research, it is necessary to add to the original data wind and solar generators. Renewable generators are know for the quick variability in the supply. Therefore it is necessary to build a wind and solar profile based on a real data and input it into the model. The available data used was the <insert the availability>. Each one of the 72 nodes were considered a different county in a specific area of US <check area>. The wind profile was built to be the same over one year. The peak generation capability for wind was set to be 35\% of the total peak load, and 10\% for solar. 


\section{Models}

\subsection{Indices and Sets}

\begin{tabular}{ll}
$f \in \mc{F}$ & Set of fuel types \\
$g \in \mc{G}$ & Set of generator types \\
$g \in \mc{G}^{\text{Wind}}$ & Set of wind generator \\
$g \in \mc{G}_n$ & Set of generator types at node $n$ \\
$(i,j) \in \mc{L} \subset \mc{N} \times \mc{N}$ & Set of transmission lines \\
$(i,j) \in \mc{L}_n$ & Set of transmission lines incident to node $n$ \\
$n \in \mc{N}$ & Set of nodes \\
$t \in \mc{T}$ & Set of time periods \\
\end{tabular}

\subsection{Deterministic Parameters}

\begin{tabular}{ll}
$B_{i,j}$ & Electrical susceptance of transmission line $(i,j)$ \\
$C_{g,t}^{\text{VOM}}$ & Variable O\&M cost (\$/MWh) for generator type $g$ in time period $t$ \\
$C_{t}^{\text{GHG}}$ & Carbon tax (\$/CO2e) Fuel price of fuel type $f$ in time period (year) $t$ \\
$CF_{g,t}$ & Capacity factor (fraction) for generator type $g$ in time period $t$ in hour $h$ \\
$D_{n,t}$ & Load (MW) at node $n$ in time period $t$ \\
$E_g$ & Emissions (tons CO2e/MMBtu) of generator $g$ \\
$H_g$ & Heat rate (MMBtu/MWh) of generator $g$ \\
$R_g^{\text{Down}}$ & Ramp down limit (MWh) for generator type $g$ \\
$R_g^{\text{Up}}$ & Ramp up limit (MWh) for generator type $g$ \\
$P_{g}^{\max}$ & Maximum power (MW) from generator type $g$ \\
$P_{g}^{\min}$ & Minimum power (MW) from generator type $g$ \\
$P_{i,j}^{\max}$ & Maximum power (MW) that can be transmitted from node $i$ to node $j$ \\
%$$ & \\
\end{tabular}


\subsection{Decision Variables}

\begin{tabular}{ll}
$p_{g,t}^{\text{{Gen}}}$ & Power (MW) from generator type $g$ at node $n$ in time period $t$ \\
$p_{i,j,t}^{\text{{Trans}}}$ & Power (MW) transmitted from node $i$ to node $j$ in time period $t$ \\
$p_{nt}^{\text{{Excess}}}$ & Excess power (MW) or curtailment at node $n$ in time period $t$ \\
$p_{nt}^{\text{{Unmet}}}$  & Unmet demand/power (MW) or load shedding transmitted at node $n$ in time period $t$ \\
$p_{i,j,t}^{\text{{Trans}}}$ & Power (MW) transmitted from node $i$ to node $j$ in time period $t$ \\
$y_{i,j}^{\text{{Trans}}}$ & (binary) Takes value 1 if transmission line $(i,j)$ is closed; 0 otherwise \\
$y_{g,t}^{\text{{Gen}}}$   & (binary) Takes value 1 if generator $g$ is on in time period $t$; 0 otherwise \\
$\theta_{n,t}$ & Voltage angle at node $n$ in time period $t$ \\
\end{tabular}

You could replace $p_{nt}^{\text{{Excess}}}$ with $e_{nt}$ and $p_{nt}^{\text{{Unmet}}}$ with $u_{nt}$ to simplify notation when writing your thesis. It becomes tedious to have to include superscripts when writing down numerous constraints.  However, the above notation should make it easier to transition from math to code.  In addition, as you begin to include more decision variables, you quickly start to run out of letters in the alphabet.  Superscripts help in this regard.


%\subsection{Constraints}
%
%Load balance constraints
%\begin{equation}
%\sum_{g \in \mc{G}_n} p_{g,t} \geq D_{n,t}, \forall n,t
%\end{equation}
%
%Ramping constraints 
%\begin{equation}
%R_g^{Down} \leq p_{g,t} - p_{g,t-1} \leq R_g^{Up}, \forall g,t
%\end{equation}
%
%
%\begin{equation}
%content...
%\end{equation}



\subsection{Simple economic dispatch model}
This optimization model is a linear program (LP).
In this model, we assume that all unit commitment decisions have already been made.

\begin{subequations}\label{model:simple_ED}
\begin{alignat}{4}
(ED) \quad
\min~~&  \sum_{g \in \mc{G}_n} \sum_{t \in \mc{T}} C_{g,t}^{\text{VOM}}p_{g,t}^{\text{{Gen}}}  \\
\st ~~& \sum_{g \in \mc{G}_n} p_{gt}^{\text{{Gen}}} + \sum_{(i,n) \in \mc{L}_n} p_{int}^{\text{{Trans}}} + p_{nt}^{\text{{Excess}}} & & \notag \\
     & = D_{n,t} + \sum_{(n,j) \in \mc{L}_n} p_{njt}^{\text{{Trans}}} + p_{nt}^{\text{{Unmet}}} &~& \qquad \forall n \in \mc{N}, t \in \mc{T} \label{eq:simple_ED_load_balance} \\
     & B_{ij}(\theta_{it} - \theta_{jt}) - p_{ijt}^{\text{{Trans}}} = 0 &~& \qquad \forall (i,j) \in \mc{L}, t \in \mc{T} \label{eq:simple_ED_phase_angle_constraints} \\
     & p_{g,t}^{\text{{Gen}}} - p_{g,t-1}^{\text{{Gen}}} \leq R_g^{\text{Up}} &~& \qquad \forall g \in \mc{G}, t \in \mc{T} \setminus \{1\} \label{eq:simple_ED_ramp_up} \\
     & p_{g,t-1}^{\text{{Gen}}} - p_{g,t}^{\text{{Gen}}} \leq R_g^{\text{Down}} &~& \qquad \forall g \in \mc{G}, t \in \mc{T} \setminus \{1\} \label{eq:simple_ED_ramp_down} \\
     & P_{g}^{\min} \leq p_{g,t}^{\text{{Gen}}} \leq P_{g}^{\max} &~& \qquad \forall g \in \mc{G}, t \in \mc{T} \label{eq:simple_ED_generator_power_bounds} \\
     & p_{ijt}^{\text{{Trans}}} \in \Re &~& \qquad \forall (i,j) \in \mc{L}, t \in \mc{T} \\
     & \theta_{nt} \in \Re &~& \qquad \forall n \in \mc{N}, t \in \mc{T} \\
     & p_{nt}^{\text{{Excess}}} \geq 0, p_{nt}^{\text{{Unmet}}} \geq 0 &~& \qquad \forall n \in \mc{N}, t \in \mc{T} \\
	& P_g^{\min} \leq p_{gt} + q_{gt} \leq P_g^{\max} &~& \qquad \forall t \label{eq:reserve_constraint1}  \\          
	&  \sum_{g \in G_{spin}} q_{gt} \geq \bar{q}_t = 0.03 * D_t &~& \qquad \forall t  \label{eq:reserve_constraint2} \\
	& 0 \leq q_{gt} \leq Q_{g}^{\max}   &~& \qquad \forall t  \label{eq:reserve_constraint3} 
\end{alignat}
\end{subequations}

Load balance constraints \eqref{eq:simple_ED_load_balance} state that power generated at node $n$ plus power transmitted to node $n$ equals load/demand plus power transmitted from node $n$.  Curtailment and unmet demand variables are included as well. 
Constraints \eqref{eq:simple_ED_phase_angle_constraints} ensure that Kirchoff's law applies, namely that the difference in voltage angles between nodes $i$ and $j$ multiplied by the susceptance of this line equals the power transmitted on the line.
Ramping constraints are captured by \eqref{eq:simple_ED_ramp_up} and \eqref{eq:simple_ED_ramp_down}.
Bounds on generator power limits are expressed in \eqref{eq:simple_ED_generator_power_bounds}.
All remaining items are decision variable definitions. The first model implemented in AIMMS does not cover the constraint \eqref{eq:simple_ED_phase_angle_constraints}.

The reserve constraints \eqref{eq:reserve_constraint1},\eqref{eq:reserve_constraint2},\eqref{eq:reserve_constraint3} were taken based on Andy Sun's paper, made simplified on a better way. The model assumes the reserves should satisfy the requirement of X\% of increase in the demand at certain time t.

\subsection{Economic dispatch model with transmission}

In this optimization model the physical constraint of each line is taken into consideration. There is no transmission cost associated for now. The variable P now has a new index, which is the power generated of generator g at bus i, and transmitted to node n.

\subsection{Economic dispatch model with transmission switching}
This optimization model is a mixed-integer linear program (MILP).
This model includes decision variables to capture ``on'' and ``off'' decisions associated with transmission lines.
``Transmission switching has been discussed extensively in the past few years as an effective means to increase the efficiency of power grid operations'' (Qiu and Wang 2014). In this model the transmission efficienci


\subsection{Economic dispatch model with unit commitment constraints}
This optimization model is a mixed-integer linear program (MILP).
This model includes decision variables to capture ``on'' and ``off'' decisions for thermal generators in each time period. 
The objective function must be modifies to account for start up and shut down costs with thermal generators.



\section{Notes on notation}

All sets are denoted in calligraphic font, e.g., $\mc{S}$ as opposed to $S$.
All parameters are written in upper case font, e.g., $C_t$ for cost at time $t$.
All decision variables are lower case.  Decision vectors are written as $\v{x}$ whereas decision variables are written as $x_j$.  This is especially handy when you have decision variables $p_{gt}$ denoting the power generated by generator $g$ in time period $t$ and you want to write: Consider the power $\v{p}_t$ from all generators at time $t$.  It looks clean and you immediately know that $\v{p}_t$ is a vector, not a scalar.  This is also a more compact way of writing $\{p_{gt}\}_{g \in \mc{G}}$.

The reason why I like the subequations environment is because it is cleaner and more compact.  It allows one to refer to, say, Model 1 instead of Model 1-15.  I use the alignat environment because it allows one to left-align equations and the sets over which they are defined.  It is very clean.  

Here is another example. A linear Generalized Disjunctive Program (GDP), which has only linear constraints and is the most analogous to a MILP, has the form
\begin{subequations}\label{model:linear_GDP}
\begin{alignat}{4}
(GDP) \quad
\min~~& z=f(\v{x}) \\
\st ~~& g(\v{x}) \leq \v{0} \\
     & \bigvee_{i \in \mc{D}_k} \left[ \begin{array}{cc} Y_{ki} \\ \v{A}^{ki}\v{x} \leq \v{b}^{ki} \end{array} \right] &~& \qquad \forall~k \in \mc{K} \\
     & \underline{\bigvee}_{i \in \mc{D}_k} Y_{ki} &~& \qquad \forall~k \in \mc{K} \\
     & \Omega(\v{Y}) = \texttt{True} \\
     & \v{x}^{LB} \leq \v{x} \leq \v{x}^{UB} \\
     & Y_{ki} \in \{\texttt{True,False}\} &~& \qquad \forall~k \in \mc{K}, \forall~i \in \mc{D}_k
\end{alignat}
\end{subequations}

\section{Implementation}
 
\nocite{*}
\bibliography{biblio}
\bibliographystyle{naturemag}

%\section{Computational results}
%\section{Conclusions}
%\section{Acknowledgments}
%
%\small
%\bibliographystyle{abbrv}
%\bibliography{unit_commitment_refs}
%\bibliography{transmission_switching_refs}
%\bibliography{power_grid_refs}

\end{document}
